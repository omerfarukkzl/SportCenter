<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Spor Salonu Yönetim Sistemi">
    <title>@ViewData["Title"] - Spor Salonu</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Muli:300,400,500,600,700,800,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Oswald:300,400,500,600,700&display=swap" rel="stylesheet">

    <!-- CSS Files -->
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/lib/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/templates/gymlife/css/flaticon.css">
    <link rel="stylesheet" href="~/templates/gymlife/css/owl.carousel.min.css">
    <link rel="stylesheet" href="~/templates/gymlife/css/barfiller.css">
    <link rel="stylesheet" href="~/templates/gymlife/css/magnific-popup.css">
    <link rel="stylesheet" href="~/templates/gymlife/css/slicknav.min.css">
    <link rel="stylesheet" href="~/templates/gymlife/css/style.css">
    <link rel="stylesheet" href="~/css/site.css">
</head>

<body>
    <!-- Header Section Begin -->
    <header class="header-section">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-3">
                    <div class="logo">
                        <a asp-controller="Home" asp-action="Index">
                            <img src="~/templates/gymlife/img/logo.png" alt="Spor Salonu Logo">
                        </a>
                    </div>
                </div>
                <div class="col-lg-9">
                    <nav class="nav-menu">
                        <ul>
                            <li><a asp-controller="Home" asp-action="Index">Ana Sayfa</a></li>
                            
                            @if (Context.Session.GetInt32("UserId") != null)
                            {
                                if (Context.Session.GetInt32("UserType") == 1) // Yönetici
                                {
                                    <li><a href="#">Yönetim</a>
                                        <ul class="dropdown">
                                            <li><a asp-controller="Admin" asp-action="Users">Kullanıcılar</a></li>
                                            <li><a asp-controller="Admin" asp-action="Trainers">Antrenörler</a></li>
                                            <li><a asp-controller="Admin" asp-action="Programs">Spor Programları</a></li>
                                            <li><a asp-controller="Admin" asp-action="Equipment">Ekipmanlar</a></li>
                                            <li><a asp-controller="Admin" asp-action="Reports">Raporlar</a></li>
                                        </ul>
                                    </li>
                                }
                                else if (Context.Session.GetInt32("UserType") == 2) // Antrenör
                                {
                                    <li><a asp-controller="Trainer" asp-action="Programs">Programlarım</a></li>
                                    <li><a asp-controller="Trainer" asp-action="Members">Üyelerim</a></li>
                                    <li><a asp-controller="Trainer" asp-action="Equipment">Ekipmanlar</a></li>
                                }
                                else if (Context.Session.GetInt32("UserType") == 3) // Üye
                                {
                                    <li><a asp-controller="Member" asp-action="Programs">Programlar</a></li>
                                    <li><a asp-controller="Member" asp-action="MyPrograms">Katıldığım Programlar</a></li>
                                }
                            }
                            
                            <li><a asp-controller="Home" asp-action="About">Hakkımızda</a></li>
                            <li><a asp-controller="Home" asp-action="Contact">İletişim</a></li>
                            
                            @if (Context.Session.GetInt32("UserId") != null)
                            {
                                <li><a href="#" class="username">@Context.Session.GetString("UserName")</a>
                                    <ul class="dropdown">
                                        <li><a asp-controller="Account" asp-action="Profile">Profilim</a></li>
                                        <li><a asp-controller="Account" asp-action="Logout" class="logout">Çıkış Yap</a></li>
                                    </ul>
                                </li>
                            }
                            else
                            {
                                <li><a asp-controller="Account" asp-action="Login">Giriş Yap</a></li>
                                <li><a asp-controller="Account" asp-action="Register">Kaydol</a></li>
                            }
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- Header End -->

    @RenderBody()

    <!-- Footer Section Begin -->
    <section class="footer-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <div class="fs-about">
                        <div class="fa-logo">
                            <a href="#"><img src="~/templates/gymlife/img/logo.png" alt=""></a>
                        </div>
                        <p>Sağlıklı bir yaşam için profesyonel ekibimiz ve modern ekipmanlarımızla hizmetinizdeyiz.</p>
                        <div class="fa-social">
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-youtube-play"></i></a>
                            <a href="#"><i class="fa fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6">
                    <div class="fs-widget">
                        <h4>Linkler</h4>
                        <ul>
                            <li><a asp-controller="Home" asp-action="About">Hakkımızda</a></li>
                            <li><a asp-controller="Home" asp-action="Contact">İletişim</a></li>
                            <li><a asp-controller="Home" asp-action="Privacy">Gizlilik</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6">
                    <div class="fs-widget">
                        <h4>Destek</h4>
                        <ul>
                            <li><a href="#">SSS</a></li>
                            <li><a href="#">İletişim</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="fs-widget">
                        <h4>İletişim Bilgileri</h4>
                        <div class="fw-info">
                            <ul>
                                <li><i class="fa fa-phone"></i> (123) 456-78-90</li>
                                <li><i class="fa fa-envelope"></i> info@sporsalonu.com</li>
                                <li><i class="fa fa-map-marker"></i> İstanbul, Türkiye</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="copyright-text">
                        <p>&copy; @DateTime.Now.Year Spor Salonu Yönetim Sistemi | Tüm Hakları Saklıdır</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Footer Section End -->

    <!-- Js Plugins -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/templates/gymlife/js/jquery.magnific-popup.min.js"></script>
    <script src="~/templates/gymlife/js/masonry.pkgd.min.js"></script>
    <script src="~/templates/gymlife/js/jquery.barfiller.js"></script>
    <script src="~/templates/gymlife/js/jquery.slicknav.js"></script>
    <script src="~/templates/gymlife/js/owl.carousel.min.js"></script>
    <script>
        // Immediately remove preloder
        $(window).on('load', function() {
            $("#preloder").remove();
            $(".loader").remove();
            
            // Fix background images
            $(".set-bg").each(function() {
                var bg = $(this).data("setbg");
                // Fix path by removing the tilde
                if (bg && bg.startsWith("~/")) {
                    bg = bg.replace("~/", "/");
                }
                $(this).css("background-image", "url(" + bg + ")");
            });
            
            // Initialize owl carousel
            $(".owl-carousel").owlCarousel({
                loop: true,
                margin: 0,
                nav: true,
                items: 1,
                dots: false,
                animateOut: 'fadeOut',
                animateIn: 'fadeIn',
                navText: ['<i class="fa fa-angle-left"></i>', '<i class="fa fa-angle-right"></i>'],
                smartSpeed: 1200,
                autoHeight: false,
                autoplay: true
            });
        });
        
        // Fix menu display issues
        $(document).ready(function() {
            // Disable SlickNav completely
            if ($.fn.slicknav) {
                $.fn.slicknav = function() { return this; };
            }
            
            // Force show the navigation
            $('.nav-menu').css({
                'display': 'block',
                'visibility': 'visible',
                'opacity': '1',
                'height': 'auto',
                'position': 'relative'
            });
            
            // Apply dropdown functionality manually
            $('.nav-menu ul li').hover(function() {
                $(this).find('.dropdown').css({
                    'display': 'block',
                    'opacity': '1',
                    'visibility': 'visible'
                });
            }, function() {
                $(this).find('.dropdown').css({
                    'display': 'none',
                    'opacity': '0',
                    'visibility': 'hidden'
                });
            });
            
            // Disable any offcanvas events
            $('.slicknav_btn, .canvas-open, .offcanvas-menu-overlay').off('click');
            
            // Remove mobile menu completely
            $('.slicknav_menu, .offcanvas-menu-wrapper, .canvas-open').remove();
        });
    </script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>